
# 智能体开发系列：MCP 到底是个啥？

这个建议看老外的文章: <https://norahsakal.com/blog/mcp-vs-api-model-context-protocol-explained/>

咱只是搬运工,建议都原文拜读一下!!!

**Model Context Protocol (MCP)是一种新的开放协议，旨在标准化应用程序向大型语言模型（LLM）提供上下文的方式。**

想象一下 MCP 就像 AI 代理的 USB-C 端口：它提供了一种统一的方法将 AI 系统连接到各种工具和数据源。

本文将拆解 MCP，清晰地解释其价值、架构以及它与传统 API 的不同之处。

## 什么是 MCP？
---------

模型上下文协议（MCP）是一种标准化协议，将 AI 代理连接到各种外部工具和数据源。想象一下，它就像 USB-C 端口——但针对 AI 应用程序。

模型上下文协议（MCP）是一种标准化协议，将 AI 代理连接到各种外部工具和数据源

正如 USB-C 简化了您将不同设备连接到计算机的方式，MCP 简化了 AI 模型与您的数据、工具和服务的交互方式。

![img](https://norahsakal.com/assets/images/mcp_overview-641a298352ff835488af36be3d8eee52.png)

## 为什么使用 MCP 而不是传统的 API？
---------

传统上，将 AI 系统连接到外部工具涉及集成多个 API。每个 API 集成意味着单独的代码、文档、认证方法、错误处理和维护。

### 为什么传统的 API 就像为每扇门都有不同的钥匙

举例来说：API 就像单独的门——每扇门都有自己的钥匙和规则：

![!img](https://norahsakal.com/assets/images/api_overview-0d9335920826e30bba0897997f599829.png)

传统 API 要求开发人员为每个服务或数据源编写自定义集成

## MCP 的背后是谁？
---------

MCP（模型上下文协议）最初是由 Anthropic 发起的一个项目，旨在让像 Claude 这样的 AI 模型更容易与工具和数据源进行交互。

但这不仅仅是一个 Anthropic 的事情。MCP 是开源的，越来越多的公司和开发者正在加入。

看起来正在形成一种新的 AI 工具交互标准。

需要更深入的去了解建议前往：<modelcontextprotocol.io>

## MCP vs. API：快速比较
---------

| Feature/功能 | MCP | Traditional API/传统 API |
|--------------|-----|-------------------------|
| Real-Time Communication/实时通讯 | ✅ Yes | ❌ No |
| Dynamic Discovery/动态发现 | ✅ Yes | ❌ No |
| Scalability/可扩展性 | Easy (plug-and-play)/易于扩展（即插即用） | Requires additional integrations/需要额外的集成 |
| Security & Control/安全性和控制 | Consistent across tools/在所有工具中保持一致 | Varies by API/根据 API 而异 |

### MCP 与传统 API 之间的主要区别：

* 单协议：MCP 作为标准化的“连接器”，所以集成一个 MCP 意味着可能访问多个工具和服务，而不仅仅是单一的
    
* 动态发现：MCP 允许 AI 模型动态发现并与其所用工具进行交互，而无需为每个集成硬编码每种集成的知识
    
* 双向通信：MCP 支持持久的、实时的双向通信 - 类似于 WebSockets。AI 模型可以动态地获取信息并触发操作
    
> 为什么是双向通信？ MCP 提供实时双向通信：
> 
> * 拉取数据: LLM 查询服务器以获取上下文 → 例如检查您的日历
>     
> * 触发操作: LLM 指令服务器执行操作 → 例如重新安排会议，发送邮件
>     

## MCP 的工作原理：架构
---------

MCP 遵循简单的客户端-服务器架构：

![img](https://norahsakal.com/assets/images/mcp_overview-641a298352ff835488af36be3d8eee52.png)

* **MCP 主机**: 这些是需要访问外部数据或工具的应用程序（如 Claude 桌面或 AI 驱动的 IDE）
    
* **MCP 客户端**: 它们与 MCP 服务器保持专用的一对一连接
    
* **MCP 服务器**: 轻量级服务器通过 MCP 暴露特定功能，并连接到本地或远程数据源
    
* **本地数据源**：文件、数据库或 MCP 服务器安全访问的服务
    
* **远程服务**：MCP 服务器访问的外部基于互联网的 API 或服务
    
**将 MCP 视为一座桥梁使其更加清晰**：MCP 本身并不处理复杂的逻辑；它只是协调 AI 模型和工具之间的数据和指令流。

> 小提示
> 
> 正如 USB-C 简化了您将不同设备连接到计算机的方式，MCP 简化了 AI 模型与您的数据、工具和服务的交互方式

### MCP 客户端的实际应用示例

在实践中，MCP 客户端（例如，在 `client.py` 中的 Python 脚本）与管理与 Gmail、Slack 或日历应用等特定工具交互的 MCP 服务器进行通信。

这种标准化消除了复杂性，让开发者能够快速启用复杂的交互。

## MCP 示例：何时使用 MCP？
---------

### 1. 旅行规划助手

* **使用 API**：你需要为 Google 日历、电子邮件、航空订票等 API 编写单独的代码，每种 API 都需要自定义逻辑来处理身份验证、上下文传递和错误处理
    
* **使用 MCP**：你的 AI 助手会顺畅地检查你的日程安排，预订航班，并发送确认邮件——这一切都通过 MCP 服务器完成，无需为每个工具进行自定义集成
    
### 2. 智能代码编辑器（Advanced IDE）

* 使用 API：你需要手动将你的代码编辑器与文件系统、版本控制、包管理器和文档集成
    
* 使用 MCP：您的 IDE 通过单一的 MCP 协议连接到这些，从而实现更丰富的上下文感知和更强大的建议
    
### 3. 复杂的数据分析

* **使用 API**：您需要手动管理与每个数据库和数据可视化工具的连接
    
* **使用 MCP**：您的 AI 分析平台通过统一的 MCP 层自主发现并与多个数据库、可视化和模拟进行交互
    
## 实施 MCP 的好处
---------

* 一次简化开发：写一次代码，多次集成无需为每次集成编写自定义代码
    
* 灵活性：无需复杂重新配置即可切换 AI 模型或工具
    
* 实时响应性：MCP 连接保持活动状态，可实现实时上下文更新和交互
    
* 安全性和合规性：内置访问控制和标准化的安全实践
    
*     
    
* 可扩展性：随着 AI 生态系统的增长，轻松添加新功能——只需连接另一个 MCP 服务器
    
## 什么时候传统 API 更好？
---------

如果您的应用场景需要精确、可预测的交互并且有严格的限制，传统的 API 可能更为合适。MCP 提供了广泛、动态的功能，适用于需要灵活性和上下文感知的场景，但在高度控制和确定性应用方面可能不太合适。

### 在以下情况下使用细粒度 API：

* 需要精细控制和高度特定、受限的功能
    
* 你偏好紧密耦合以优化性能
    
* 你希望最大程度的可预测性并最小化上下文自主性
    
## MCP 入门：高级步骤
---------

MCP 集成：

1. 定义能力：明确列出您的 MCP 服务器将提供的功能
    
2. 实施 MCP 层：遵循标准化的 MCP 协议规范
    
3. 选择传输方式：在本地（stdio）或远程（Server-Sent Events/WebSockets）之间做出选择
    
4. 创建资源/工具：开发或连接 MCP 将要暴露的特定数据源和服务
    
5. 设置客户端：在 MCP 服务器和客户端之间建立安全稳定的连接
    
摘要
--

### 什么是 MCP？

* MCP：AI 代理与外部数据/工具动态交互的统一接口
    
* API: 传统方法，需要个性化集成和更多手动监督

![img](https://norahsakal.com/assets/images/mcp_overview-641a298352ff835488af36be3d8eee52.png)

MCP 为将 AI 代理和模型与外部数据和工具进行集成提供了一个统一且标准化的途径。

## 结论
---------

MCP 提供了一种统一和标准化的方式来集成 AI 代理和模型与外部数据和工具。它不仅仅是一个 API；它是一个强大的连接框架，能够实现智能、动态和富有上下文的 AI 应用程序。
